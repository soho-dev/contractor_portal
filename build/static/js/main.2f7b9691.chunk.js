(this.webpackJsonpigdemo=this.webpackJsonpigdemo||[]).push([[0],{237:function(e,a,t){e.exports=t(388)},267:function(e,a){},269:function(e,a){},305:function(e,a){},306:function(e,a){},385:function(e,a,t){},388:function(e,a,t){"use strict";t.r(a);var n=t(35),r=t.n(n),o=t(0),l=t.n(o),c=t(25),i=t(42),s=Object(i.b)((function(e){var a=e.auth;return{username:a.username,isAuth:a.isAuth}}))((function(e){var a=e.username,t=e.isAuth,n=e.logout;return l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},l.a.createElement(c.b,{className:"navbar-brand",to:"/"},"Contractor Portal"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},l.a.createElement("ul",{className:"navbar-nav ml-auto"},t&&l.a.createElement("li",{className:"nav-item"},l.a.createElement("div",{className:"nav-link"},"Welcome ",a)),l.a.createElement("li",{className:"nav-item active"},l.a.createElement(c.b,{className:"nav-link",to:"/"},"Home",l.a.createElement("span",{className:"sr-only"},"(current)"))),t&&l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{className:"nav-item dropdown"},l.a.createElement("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Manage"),l.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},l.a.createElement(c.b,{className:"dropdown-item",to:"/applications/new"},"Create Application"),l.a.createElement(c.b,{className:"dropdown-item",to:"/applications/manage"},"Manage Applications"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement("div",{onClick:n,className:"nav-link"},"Logout"))),!t&&l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{className:"nav-item"},l.a.createElement(c.b,{className:"nav-link",to:"/login"},"Login")),l.a.createElement("li",{className:"nav-item"})))))})),m=t(58),u=t(66),p=t(95),d=t(40),h=t(41),b=t(205),g=t.n(b),E=new(function(){function e(){Object(d.a)(this,e),this.axiosInstance=null,this.initInstance()}return Object(h.a)(e,[{key:"initInstance",value:function(){this.axiosInstance=g.a.create({baseURL:" http://ec2-13-233-20-140.ap-south-1.compute.amazonaws.com",timeout:5e3,headers:{"Content-Type":"application/json",accept:" */*"}}),this.axiosInstance.interceptors.request.use((function(e){var a=localStorage.getItem("access_token");return a&&(e.headers["access-token"]="".concat(a)),e}))}},{key:"bwmAxios",get:function(){return this.axiosInstance}}]),e}()),f=E.bwmAxios,v=function(e){return{type:"USER_AUTHENTICATED",username:e.username||""}},N=(t(14),t(31),E.bwmAxios),S=function(e){return console.log(e),N.post("/api/v1/location_services",{address:e})},y=function(e){return N.post("/api/v1/application_services",{loan_application:e})},w=(E.bwmAxios,function(e){var a=[{title:"Error!",detail:"Ooops, something went wrong!"}];return e&&e.data&&e.data.errors&&(a=e.data.errors),a}),O=t(206),_=t.n(O),T=t(43),A=t.n(T),C=l.a.createContext,j=l.a.useContext,k=C(null),R=Object(i.b)()((function(e){var a=e.children,t=e.dispatch,n=function(e){return c&&A()().isBefore(r(e))},r=function(e){return A.a.unix(e.exp)},o=function(){return localStorage.getItem("access_token")},c=function(e){return _.a.decode(e)},i={signIn:function(e){return function(e){return f.post("/users/sign_in",{user:e}).then((function(e){return e.data})).catch((function(e){return Promise.reject(w(e.response||[]))}))}(e).then((function(e){localStorage.setItem("access_token",e.access_token);var a=c(e.access_token);return t(v(a)),e}))},checkAuthState:function(){var e=c(o());e&&A()().isBefore(r(e))&&t(v(e))},signOut:function(){localStorage.removeItem("access_token"),t({type:"USER_SIGNED_OUT"})},isAuthenticated:function(){var e=c(o());return e&&n(e)}};return l.a.createElement(k.Provider,{value:i},a)})),x=function(){return j(k)},L=function(e){var a=e.children,t=Object(p.a)(e,["children"]),n=x(),r=l.a.Children.only(a);return l.a.createElement(m.b,Object.assign({},t,{render:function(e){return n.isAuthenticated()?l.a.cloneElement(r,Object(u.a)({},t,{},e)):l.a.createElement(m.a,{to:{pathname:"/login"}})}}))},I=function(e){var a=e.children,t=Object(p.a)(e,["children"]),n=x(),r=l.a.Children.only(a);return l.a.createElement(m.b,Object.assign({},t,{render:function(e){return n.isAuthenticated()?l.a.createElement(m.a,{to:{pathname:"/"}}):l.a.cloneElement(r,Object(u.a)({},t,{},e))}}))},M=t(56),D=t(54),F=t(55),P=function(e){function a(){return Object(d.a)(this,a),Object(M.a)(this,Object(D.a)(a).apply(this,arguments))}return Object(F.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"card-list"},l.a.createElement("h1",{className:"page-title"},"PoC - Simple Online Loan Application."))}}]),a}(l.a.Component),U=Object(i.b)((function(e){return{contractors:e.contractors.items}}))(P),q=t(207),W=t(133),H=t(26),B=t(69),Q=t(208),Y=(t(376),["Salary","Self-Employed","Rental Income"]),J=function(e){var a=e.onSubmit,t=e.goToLocation,n=Object(B.c)(),r=n.register,o=n.handleSubmit,c=n.control,i=n.errors;return l.a.createElement("div",{className:"col-md-12"},l.a.createElement("form",{onSubmit:o(a)},l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{htmlFor:"firstName"},"First Name"),l.a.createElement("input",{ref:r({required:"Please enter first name.",maxLength:{value:60,message:"Please enter less then 60 character."}}),name:"first_name",type:"text",className:"form-control",id:"firstName"}),i.first_name&&l.a.createElement("span",{className:"error"},i.first_name.message)),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{htmlFor:"lastName"},"Last Name"),l.a.createElement("input",{ref:r({required:"Please enter last name.",maxLength:{value:60,message:"Please enter less then 60 character."}}),name:"last_name",type:"text",className:"form-control",id:"lastName"}),i.last_name&&l.a.createElement("span",{className:"error"},i.last_name.message))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",null,"Date of Birth"),l.a.createElement("div",{className:"form-control"},l.a.createElement(B.a,{as:l.a.createElement(Q.a,{showYearDropdown:!0,maxDate:new Date(T().subtract(18,"years"))}),control:c,valueName:"selected",onChange:function(e){return Object(H.a)(e,1)[0]},name:"date_of_birth",placeholderText:"Select date"}))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{htmlFor:"ssn"},"SSN:"),l.a.createElement("input",{ref:r({required:"Please enter SSN.",maxLength:{value:20,message:"Please enter less then 20 character."}}),name:"ssn",type:"text",className:"form-control",id:"ssn"}),i.ssn&&l.a.createElement("span",{className:"error"},i.ssn.message))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{name:"email",id:"email",className:"form-control",ref:r({required:"Required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,message:"Please enter valid email address."}})}),i.email&&l.a.createElement("span",{className:"error"},i.email.message)),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{htmlFor:"phone"},"Phone"),l.a.createElement("input",{ref:r({required:"Please enter phone number.",maxLength:{value:20,message:"Please enter less then 20 character."}}),name:"phone",type:"number",className:"form-control",id:"phone"}),i.phone&&l.a.createElement("span",{className:"error"},i.phone.message))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{htmlFor:"income"},"Income"),l.a.createElement("input",{ref:r({required:"Please enter income.",maxLength:{value:20,message:"Please enter less then 20 character."}}),name:"income",type:"number",className:"form-control",id:"income"}),i.income&&l.a.createElement("span",{className:"error"},i.income.message)),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{htmlFor:"catincome_typeegory"},"Income Type"),l.a.createElement("select",{ref:r({required:!0}),name:"income_type",className:"form-control",id:"income_type"},Y.map((function(e){return l.a.createElement("option",{key:e},e)}))))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("label",{htmlFor:"requested_loan_amount"},"Requested Loan Amount"),l.a.createElement("input",{ref:r({required:"Please enter requested loan amount.",maxLength:{value:20,message:"Please enter less then 20 character."}}),name:"requested_loan_amount",type:"number",className:"form-control",id:"requested_loan_amount"}),i.requested_loan_amount&&l.a.createElement("span",{className:"error"},i.requested_loan_amount.message))),l.a.createElement("button",{type:"submit",className:"btn btn-bwm-main"},"Create"),l.a.createElement("button",{onClick:function(){t("location")},className:"btn btn-bwm-main ml-2"},"Go Back")))},G=t(234),Z=(t(377),[{label:"212 encounter bay",population:4780127,capital:"Montgomery",region:"South"},{label:"978 stannage avenu",population:710249,capital:"Juneau",region:"West"},{label:"1920 Hinckley, Fantasy Island",population:6392307,capital:"Phoenix",region:"West"},{label:"123 Test, Hunting Park",population:2915958,capital:"Little Rock",region:"South"},{label:"433 Camden, Beverly Hills",population:37254503,capital:"Sacramento",region:"West"},{label:"Colorado",population:5029324,capital:"Denver",region:"West"},{label:"Connecticut",population:3574118,capital:"Hartford",region:"Northeast"},{label:"Delaware",population:897936,capital:"Dover",region:"South"},{label:"Florida",population:18804623,capital:"Tallahassee",region:"South"},{label:"Georgia",population:9688681,capital:"Atlanta",region:"South"},{label:"Hawaii",population:1360301,capital:"Honolulu",region:"West"},{label:"Idaho",population:1567652,capital:"Boise",region:"West"},{label:"Illinois",population:12831549,capital:"Springfield",region:"Midwest"},{label:"Indiana",population:6484229,capital:"Indianapolis",region:"Midwest"},{label:"Iowa",population:3046869,capital:"Des Moines",region:"Midwest"},{label:"Kansas",population:2853132,capital:"Topeka",region:"Midwest"},{label:"Kentucky",population:4339349,capital:"Frankfort",region:"South"},{label:"Louisiana",population:4533479,capital:"Baton Rouge",region:"South"},{label:"Maine",population:1328361,capital:"Augusta",region:"Northeast"},{label:"Maryland",population:5773785,capital:"Annapolis",region:"South"},{label:"Massachusetts",population:6547817,capital:"Boston",region:"Northeast"},{label:"Michigan",population:9884129,capital:"Lansing",region:"Midwest"},{label:"Minnesota",population:5303925,capital:"Saint Paul",region:"Midwest"},{label:"Mississippi",population:2968103,capital:"Jackson",region:"South"},{label:"Missouri",population:5988927,capital:"Jefferson City",region:"Midwest"},{label:"Montana",population:989417,capital:"Alberta",region:"West"},{label:"Nebraska",population:1826341,capital:"Lincoln",region:"Midwest"},{label:"Nevada",population:2700691,capital:"Carson City",region:"West"},{label:"New Hampshire",population:1316466,capital:"Concord",region:"Northeast"},{label:"New Jersey",population:8791936,capital:"Trenton",region:"Northeast"},{label:"New Mexico",population:2059192,capital:"Santa Fe",region:"West"},{label:"New York",population:19378087,capital:"Albany",region:"Northeast"},{label:"North Carolina",population:9535692,capital:"Raleigh",region:"South"},{label:"North Dakota",population:672591,capital:"Bismarck",region:"Midwest"},{label:"Ohio",population:11536725,capital:"Columbus",region:"Midwest"},{label:"Oklahoma",population:3751616,capital:"Oklahoma City",region:"South"},{label:"Oregon",population:3831073,capital:"Salem",region:"West"},{label:"Pennsylvania",population:12702887,capital:"Harrisburg",region:"Northeast"},{label:"Rhode Island",population:1052931,capital:"Providence",region:"Northeast"},{label:"South Carolina",population:4625401,capital:"Columbia",region:"South"},{label:"South Dakota",population:814191,capital:"Pierre",region:"Midwest"},{label:"Tennessee",population:6346275,capital:"Nashville",region:"South"},{label:"Texas",population:25146105,capital:"Austin",region:"South"},{label:"Utah",population:2763888,capital:"Salt Lake City",region:"West"},{label:"Vermont",population:625745,capital:"Montpelier",region:"Northeast"},{label:"Virginia",population:8001045,capital:"Richmond",region:"South"},{label:"Washington",population:6724543,capital:"Olympia",region:"West"},{label:"West Virginia",population:1853011,capital:"Charleston",region:"South"},{label:"Wisconsin",population:5687289,capital:"Madison",region:"West"},{label:"Wyoming",population:563767,capital:"Cheyenne",region:"West"}]),z=function(e){var a=Object(o.useState)([]),t=Object(H.a)(a,2),n=t[0],r=t[1],c=Object(o.useState)(!1),i=Object(H.a)(c,2),s=(i[0],i[1],Object(o.useState)([])),m=Object(H.a)(s,2),u=m[0],p=m[1],d=function(){e.checkLocationForApp(n)};return l.a.createElement("div",{className:"form-inline my-2 my-lg-0"},l.a.createElement("div",{className:"col-md-8"},l.a.createElement(G.a,{selected:u,id:"basic-typeahead-example",labelKey:function(e){return"".concat(e.label)},onChange:function(e){e.length>0&&r(e[0].label),p(e)},options:Z,placeholder:"Choose a location..."})),l.a.createElement("button",{onClick:d,className:"btn btn-bwm-main btn-outline-success ml-2 my-sm-0",type:"button"},"Search"))},V=t(228),K=t.n(V),X=function(e){var a=e.errors;return a&&a.length>0?l.a.createElement("div",{className:"alert alert-danger"},a.map((function(e){return l.a.createElement("p",{key:e.title},e.detail)}))):null},$=function(e){var a=e.createNewApp;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"col-md-12"},l.a.createElement("h2",null,"Application successfully created."),l.a.createElement("button",{onClick:function(){return a("location")},className:"btn btn-bwm-main ml-2"}," Create Another Application")))};function ee(){var e=Object(q.a)(["\n  display: block;\n  margin-left:50%;\n  border-color: red;\n"]);return ee=function(){return e},e}var ae,te=Object(W.css)(ee()),ne=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(M.a)(this,(e=Object(D.a)(a)).call.apply(e,[this].concat(r)))).state={appLocation:"location",shouldRedirect:!1,showSpinner:!1,errors:[],location:{}},t.submitApplication=function(e){var a=Object(u.a)({},e,{address_id:t.state.location.id,date_of_birth:T(e.date_of_birth).format("ddd, DD MMM YYYY")});y(a).then((function(e){t.setState({errors:[],appLocation:"success",showSpinner:!1})})).catch((function(e){e.response&&t.setState({errors:[{title:"".concat(e.response.status," error"),detail:e.response.data.message}],showSpinner:!1})}))},t.goToLocation=function(e){t.setState({appLocation:e})},t.checkLocationForApp=function(e){t.setState({showSpinner:!0}),S(e).then((function(e){t.setState({errors:[],location:e.data,appLocation:"form",showSpinner:!1})})).catch((function(e){e.response&&t.setState({errors:[{title:"".concat(e.response.status," error"),detail:e.response.data.message}],showSpinner:!1})}))},t}return Object(F.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){var e=this.state,a=e.shouldRedirect,t=e.appLocation,n=e.errors;return a?l.a.createElement(m.a,{to:{pathname:"/"}}):l.a.createElement("section",{id:"newContractor"},l.a.createElement("div",{className:"bwm-form"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"offset-md-2 col-md-8"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("h1",{className:"page-title"},"Create loan application")),l.a.createElement("div",{className:"col-md-12"},l.a.createElement(X,{errors:n})),"location"===t&&l.a.createElement(z,{checkLocationForApp:this.checkLocationForApp}),"form"===t&&l.a.createElement(J,{onSubmit:this.submitApplication,goToLocation:this.goToLocation}),"success"===t&&l.a.createElement($,{createNewApp:this.goToLocation}),l.a.createElement(K.a,{css:te,size:40,color:"#212529",loading:this.state.showSpinner})))))}}]),a}(l.a.Component),re=function(e){var a=e.children,t=e.errors[e.name]||null;return t?l.a.createElement("div",{className:"alert alert-danger",children:a(t.message)}):null},oe=function(e){var a=e.children;return l.a.createElement("div",{className:"alert alert-danger"},a)},le=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,ce=function(e){var a=e.onSubmit,t=Object(B.c)(),n=t.register,r=t.handleSubmit,o=t.errors;return l.a.createElement("form",{onSubmit:r(a)},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{ref:n({required:"Email is required",pattern:{value:le,message:"Invalid email format!"}}),name:"email",type:"email",className:"form-control",id:"email"}),l.a.createElement(re,{errors:o,name:"email"},(function(e){return l.a.createElement("p",null,e)}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{ref:n({required:"Password is required!",minLength:{value:8,message:"Minimum length of password is 8 characters!"}}),name:"password",type:"password",className:"form-control",id:"password"}),l.a.createElement(B.b,{as:l.a.createElement(oe,null),errors:o,name:"password"},(function(e){var a=e.message;return l.a.createElement("p",null,a)}))),l.a.createElement("button",{type:"submit",className:"btn btn-bwm-main"},"Submit"))},ie=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(M.a)(this,(e=Object(D.a)(a)).call.apply(e,[this].concat(r)))).state={shouldRedirect:!1,errors:[]},t.signIn=function(e){t.props.auth.signIn(e).then((function(e){return t.setState({shouldRedirect:!0})})).catch((function(e){return t.setState({errors:e})}))},t}return Object(F.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){var e=this.state,a=e.errors,t=e.shouldRedirect,n=(this.props.location.state||"").message;return t?l.a.createElement(m.a,{to:{pathname:"/"}}):l.a.createElement("div",{className:"bwm-form"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"offset-md-3 col-md-6"},l.a.createElement("h1",{className:"page-title"},"Login"),n&&l.a.createElement("div",{className:"alert alert-success"},n),l.a.createElement(ce,{onSubmit:this.signIn}),l.a.createElement(X,{errors:a}))))}}]),a}(l.a.Component),se=(ae=ie,function(e){return l.a.createElement(k.Consumer,null,(function(a){return l.a.createElement(ae,Object.assign({},e,{auth:a}))}))}),me=t(229),ue=t.n(me),pe=function(e){return e&&"string"===typeof e?e.split(" ").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join(" "):""},de=function(e){var a=e.filterText,t=e.onFilter,n=e.onClear;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"col-md-5 input-group mb-3"},l.a.createElement("input",{id:"search",className:"form-control",type:"text",placeholder:"Search",value:a,onChange:t}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:n},"X"))),l.a.createElement("br",null))},he=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(M.a)(this,(e=Object(D.a)(a)).call.apply(e,[this].concat(r)))).state={filterText:"",resetPaginationToggle:!1},t.handleClear=function(){t.state.filterText&&t.setState({filterText:"",resetPaginationToggle:!t.state.resetPaginationToggle})},t.subHeaderComponentMemo=function(){},t.renderApplicationTable=function(e){var a=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}),n=[{name:"Application Id",selector:"id",sortable:!0,maxWidth:"140px"},{name:"Name",selector:"name",sortable:!0},{name:"Income",selector:"income",sortable:!0},{name:"Income type",selector:"income_type",sortable:!0},{name:"Requested loan amount",selector:"requested_loan_amount",sortable:!0},{name:"Status",selector:"status",sortable:!0,cell:function(e){switch(e.status){case"Approved":return l.a.createElement("h5",null,l.a.createElement("span",{className:"badge badge-success"},e.status));case"Pending":return l.a.createElement("h5",null,l.a.createElement("span",{className:"badge badge-primary"},e.status));case"Rejected":return l.a.createElement("h5",null,l.a.createElement("span",{className:"badge badge-danger"},e.status));default:return l.a.createElement("h5",null,l.a.createElement("span",{className:"badge badge-primary"},e.status))}}}],r=[];e.map((function(e){r.push({id:e.id,name:"".concat(e.first_name," ").concat(e.last_name),income:"".concat(a.format(e.income)),income_type:"".concat(e.income_type),requested_loan_amount:"".concat(a.format(e.requested_loan_amount)),status:"".concat(pe(e.status))})}));var o=r.filter((function(e){return e.name&&e.name.includes(t.state.filterText)||e.status&&e.status.includes(t.state.filterText)||e.income_type&&e.income_type.includes(t.state.filterText)||e.id&&e.id==t.state.filterText}));return l.a.createElement("div",{className:"col-md-12"},l.a.createElement(ue.a,{title:"Applications List",columns:n,data:o,defaultSortField:"id",pagination:!0,actions:l.a.createElement(de,{onFilter:function(e){return t.setState({filterText:e.target.value})},onClear:function(){return t.handleClear},filterText:t.state.filterText})}))},t}return Object(F.a)(a,e),Object(h.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((function(e){return e({type:"REQUEST_DATA",resource:"manage-contractors"}),N.get("/api/v1/application_services").then((function(e){return e.data})).then((function(a){e({type:"REQUEST_DATA_COMPLETE",data:a,resource:"manage-contractors"})}))}))}},{key:"render",value:function(){var e=this.props,a=e.applications,t=e.errors,n=e.isFetching;return l.a.createElement("div",{className:"card-list"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("h1",{className:"page-title"},"Loan applications list"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement(X,{errors:t}))),l.a.createElement("div",{className:"row"},this.renderApplicationTable(a)),!n&&0===a.length&&l.a.createElement("p",{className:"alert alert-warning"},"You dont have any applications currently created :("))}}]),a}(l.a.Component),be=Object(i.b)((function(e){var a=e.manage;return{applications:a.contractors.items,isFetching:a.contractors.isFetching,errors:a.contractors.errors}}))(he),ge=function(){return l.a.createElement("div",{className:"container bwm-container"},l.a.createElement(m.d,null,l.a.createElement(m.b,{exact:!0,path:"/"},l.a.createElement(U,null)),l.a.createElement(L,{path:"/applications/manage"},l.a.createElement(be,null)),l.a.createElement(L,{path:"/applications/new"},l.a.createElement(ne,null)),l.a.createElement(I,{path:"/login"},l.a.createElement(se,null))))},Ee=t(20),fe=t(231),ve=t(23),Ne=function(e){return function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if(e!==t.resource)return a;switch(t.type){case"REQUEST_DATA":return!0;case"REQUEST_DATA_COMPLETE":return!1;default:return a}}},Se=function(e){var a=function(e){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(e!==t.resource)return a;switch(t.type){case"REQUEST_DATA":return[];case"REQUEST_DATA_COMPLETE":return t.data;case"DELETE_RESOURCE":var n=a.findIndex((function(e){return e._id===t.id}));return a.filter((function(e,a){return n!==a}));default:return a}}}(e),t=Ne(e),n=function(e){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(e!==t.resource)return a;switch(t.type){case"DELETE_RESOURCE":case"REQUEST_DATA":return[];case"REQUEST_ERROR":return t.errors;default:return a}}}(e);return Object(Ee.c)({items:a,isFetching:t,errors:n})},ye=function(){var e=Ne("contractors");return Object(Ee.c)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_CONTRACTORS":return a.contractors;case"CREATE_CONTRACTOR":return[].concat(Object(ve.a)(e),[a.contractor]);default:return e}},isFetching:e})}(),we=function(){var e=Ne("contractor");return Object(Ee.c)({item:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"UNMOUNT_CONTRACTOR":return{};case"UPDATE_CONTRACTOR_SUCCESS":case"FETCH_CONTRACTOR_BY_ID":return a.contractor;default:return e}},isFetching:e})}(),Oe=Object(Ee.c)({isAuth:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_AUTHENTICATED":return!0;case"USER_SIGNED_OUT":return!1;default:return e}},username:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_AUTHENTICATED":return a.username;case"USER_SIGNED_OUT":return"";default:return e}}}),_e=Object(Ee.c)({contractors:Se("manage-contractors"),bookings:Se("manage-bookings"),receivedBookings:Se("received-bookings")});var Te=t(235),Ae=function(){var e=Object(Ee.c)({contractors:ye,contractor:we,auth:Oe,manage:_e}),a=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ee.d;return Object(Ee.e)(e,a(Object(Ee.a)(fe.a)))}(),Ce=function(e){var a=e.children;return l.a.createElement(i.a,{store:Ae},l.a.createElement(R,null,a))},je=function(){var e=x();return Object(o.useEffect)((function(){e.checkAuthState()}),[e]),l.a.createElement(c.a,null,l.a.createElement(s,{logout:e.signOut}),l.a.createElement(ge,null))},ke=function(){return l.a.createElement(Ce,null,l.a.createElement(Te.a,null),l.a.createElement(je,null))},Re=(t(383),t(385),t(386),t(387),t(232)),xe=t(233);Re.a.add(xe.a);var Le=document.getElementById("root");r.a.render(l.a.createElement(ke,null),Le)}},[[237,1,2]]]);
//# sourceMappingURL=main.2f7b9691.chunk.js.map