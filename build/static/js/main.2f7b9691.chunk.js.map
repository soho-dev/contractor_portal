{"version":3,"sources":["components/shared/Header.js","services/AxiosService.js","actions/auth.js","actions/contractors.js","actions/index.js","providers/AuthProvider.js","components/auth/AuthRoute.js","components/auth/GuestRoute.js","pages/ContractorHome.js","components/forms/ContractorForm.js","helpers/locations_mock.js","components/contractor/ContractorSearchInput.js","components/forms/ApiErrors.js","components/contractor/SuccessMessage.js","pages/NewApplication.js","components/forms/FormError.js","components/forms/LoginForm.js","pages/Login.js","helpers/functions.js","pages/ManageApplications.js","Routes.js","store/reducers/common.js","store/reducers/contractors.js","store/reducers/contractor.js","store/reducers/auth.js","store/reducers/manage.js","App.js","store/index.js","index.js"],"names":["connect","auth","username","isAuth","logout","className","to","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","href","role","aria-haspopup","aria-labelledby","onClick","axiosInstance","this","initInstance","axios","create","baseURL","timeout","headers","interceptors","request","use","config","token","localStorage","getItem","bwmAxios","axiosService","userAuthenticated","decodedToken","checkLocationForApp","location","console","log","post","createApplication","application","extractApiErrors","resError","errors","title","detail","data","createContext","React","useContext","AuthContext","AuthProvider","children","dispatch","isTokenValid","decodeToken","moment","isBefore","getExpiration","unix","exp","getToken","jwt","decode","authApi","signIn","loginData","then","res","catch","error","Promise","reject","response","loginUser","setItem","access_token","checkAuthState","signOut","removeItem","isAuthenticated","Provider","value","useAuth","AuthRoute","rest","authService","onlyChild","Children","only","render","props","cloneElement","pathname","GuestRoute","ContractorHome","Component","contractors","items","contractorOptions","ContractorForm","onSubmit","goToLocation","useForm","register","handleSubmit","control","htmlFor","ref","required","maxLength","message","name","first_name","last_name","as","showYearDropdown","maxDate","Date","subtract","valueName","onChange","placeholderText","ssn","pattern","email","phone","income","map","option","key","requested_loan_amount","label","population","capital","region","ContractorSearchInput","useState","setLocation","selected","setSelected","handleSearch","labelKey","length","options","placeholder","ApiErrors","e","SuccessMessage","createNewApp","override","css","NewApplication","state","appLocation","shouldRedirect","showSpinner","submitApplication","appData","applicationData","date_of_birth","format","_","setState","status","appState","size","color","loading","FormError","Error","EMAIL_PATTERN","LoginForm","minLength","Login","withAuth","Consumer","capitalize","split","word","toUpperCase","slice","join","FilterComponent","filterText","onFilter","onClear","ManageApplications","resetPaginationToggle","handleClear","subHeaderComponentMemo","renderApplicationTable","applications","Intl","NumberFormat","style","currency","minimumFractionDigits","columns","selector","sortable","maxWidth","cell","row","appTableData","item","push","income_type","filteredItems","filter","includes","defaultSortField","pagination","actions","target","resource","get","isFetching","manage","Routes","exact","path","isFetchingReducer","action","createList","index","findIndex","i","_id","itemIndex","itemsReducer","errorsReducer","combineReducers","contractor","initContractorsReducer","initContractorReducer","bookings","receivedBookings","store","reducers","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","initStore","Providers","BwmApp","useEffect","App","library","add","fas","rootElement","document","getElementById","ReactDOM"],"mappings":"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","file":"static/js/main.2f7b9691.chunk.js","sourcesContent":["\n/* eslint-disable jsx-a11y/anchor-is-valid */\n\nimport React from 'react';\nimport { Link } from \"react-router-dom\";\nimport { connect } from 'react-redux';\n\nconst Header = ({username, isAuth, logout}) => {\n\n  return (\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n      <Link className=\"navbar-brand\" to=\"/\">Contractor Portal</Link>\n      <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n        <span className=\"navbar-toggler-icon\"></span>\n      </button>\n\n      <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n        <ul className=\"navbar-nav ml-auto\">\n          { isAuth &&\n            <li className=\"nav-item\">\n              <div \n                className=\"nav-link\">Welcome {username} \n              </div>\n            </li>\n          }\n          <li className=\"nav-item active\">\n            <Link \n              className=\"nav-link\" \n              to=\"/\">Home \n              <span className=\"sr-only\">(current)</span>\n            </Link>\n          </li>\n          { isAuth &&\n            <>\n              <li className=\"nav-item dropdown\">\n                <a className=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                  Manage\n                </a>\n                <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n                  <Link \n                    className=\"dropdown-item\" \n                    to=\"/applications/new\">Create Application\n                  </Link>\n                  <Link \n                    className=\"dropdown-item\" \n                    to=\"/applications/manage\">Manage Applications\n                  </Link>\n                  {/* <Link \n                    className=\"dropdown-item\" \n                    to=\"/bookings/manage\">Manage Bookings\n                  </Link>\n                  <Link \n                    className=\"dropdown-item\" \n                    to=\"/bookings/received\">Received Bookings\n                  </Link> */}\n                </div>\n              </li>\n              <li className=\"nav-item\">\n                <div \n                  onClick={logout}\n                  className=\"nav-link\">Logout\n                </div>\n              </li>\n            </>\n          }\n          { !isAuth &&\n            <>\n              <li className=\"nav-item\">\n                <Link \n                  className=\"nav-link\" \n                  to=\"/login\">Login</Link>\n              </li>\n              <li className=\"nav-item\">\n                {/* <Link \n                  className=\"nav-link\" \n                  to=\"/register\">Register</Link> */}\n              </li>\n            </>\n          }\n        </ul>\n      </div>\n    </nav>\n  )\n}\n\nconst mapStateToProps = ({auth: {username, isAuth}}) => {\n  return {\n    username,\n    isAuth\n  }\n}\n\nexport default connect(mapStateToProps)(Header);","import axios from 'axios';\n\n\nclass AxiosService {\n  axiosInstance = null;\n\n  constructor() {\n    this.initInstance();\n  }\n\n  initInstance() {\n    this.axiosInstance = axios.create({\n      baseURL: ' http://ec2-13-233-20-140.ap-south-1.compute.amazonaws.com',\n      timeout: 5000,\n      headers:{\"Content-Type\":\"application/json\", \"accept\":\" */*\"}\n    });\n\n    this.axiosInstance.interceptors.request.use((config) => {\n      const token = localStorage.getItem('access_token');\n\n      if (token) {\n        //config.headers.Authorization = `access-token = \"${token}`;\n        config.headers['access-token'] =  `${token}`;\n      }\n\n      return config;\n    });\n  }\n\n  get bwmAxios() {\n    return this.axiosInstance;\n  }\n}\n\nexport default new AxiosService();\n\n","import axiosService from 'services/AxiosService';\nimport { extractApiErrors } from './index';\nconst { bwmAxios } = axiosService;\n\nexport const registerUser = (registerData) => {\n  return bwmAxios\n    .post('/users/register', registerData)\n    .catch(error => Promise.reject(extractApiErrors(error.response || [])))\n}\n\nexport const loginUser = (loginData) => {\n  return bwmAxios\n    .post('/users/sign_in', {\"user\":loginData})\n    //.post('/users/login', loginData)\n    .then(res => res.data)\n    .catch(error => Promise.reject(extractApiErrors(error.response || [])))\n}\n\nexport const userAuthenticated = (decodedToken) => {\n  return {\n    type: 'USER_AUTHENTICATED',\n    username: decodedToken.username || ''\n  }\n}","\nimport axiosService from 'services/AxiosService';\nimport { extractApiErrors } from './index';\nimport { deleteResource } from './index';\nimport applicationsMock from './../helpers/applications_mock';\nconst { bwmAxios } = axiosService;\n\nconst delay =  function(time, value) {\n  return new Promise(function(resolve) { \n      setTimeout(resolve.bind(null, value), time)\n  });\n}\nexport const verifyContractorOwner = (contractorId) => {\n  return bwmAxios.get(`/contractors/${contractorId}/verify-user`);\n}\n\nexport const fetchContractors = (location) => dispatch => {\n  const query = location ? `/contractors?city=${location}` : '/contractors';\n  dispatch({type: 'REQUEST_DATA', resource: 'contractors'});\n  bwmAxios.get(query)\n    .then(res => {\n      const contractors = res.data; \n      dispatch({type: 'REQUEST_DATA_COMPLETE', resource: 'contractors'});\n      dispatch({\n        type: 'FETCH_CONTRACTORS',\n        contractors\n      });\n    }) \n}\n\nexport const fetchApplications = () => dispatch => {\n  dispatch({type: 'REQUEST_DATA', resource: 'manage-contractors'});\n  return bwmAxios.get('/api/v1/application_services')\n    .then(res => res.data)\n    .then(applications => {\n      dispatch({\n        type: 'REQUEST_DATA_COMPLETE',\n        data: applications,\n        resource: 'manage-contractors'\n      })\n    })\n}\n\nexport const fetchUserContractors = () => dispatch => {\n  dispatch({type: 'REQUEST_DATA', resource: 'manage-contractors'});\n  return delay(2000, applicationsMock)\n              .then(res => {console.log(res); return res;})\n              .then(contractors => {\n                dispatch({\n                  type: 'REQUEST_DATA_COMPLETE',\n                  data: contractors,\n                  resource: 'manage-contractors'\n                })\n              });\n  // return bwmAxios.get('/contractors/me')\n  //   .then(res => res.data)\n  //   .then(contractors => {\n  //     dispatch({\n  //       type: 'REQUEST_DATA_COMPLETE',\n  //       data: contractors,\n  //       resource: 'manage-contractors'\n  //     })\n  //   })\n}\n\n\nexport const fetchContractorById = contractorId => async dispatch => { \n  dispatch({type: 'REQUEST_DATA', resource: 'contractor'});\n  const res = await bwmAxios.get(`/contractors/${contractorId}`)\n  dispatch({type: 'REQUEST_DATA_COMPLETE', resource: 'contractor'});\n  dispatch({\n    type: 'FETCH_CONTRACTOR_BY_ID',\n    contractor: res.data\n  });\n}\n\nexport const checkAppEligibility = contractor => {\n  return bwmAxios.post('/contractors', contractor);\n}\n\nexport const checkLocationForApp = location => {\n  console.log(location);\n  //return delay(3000,{'success':true});\n  return bwmAxios.post('/api/v1/location_services', {'address':location});\n}\nexport const createApplication = application => {\n  return bwmAxios.post('/api/v1/application_services', {\"loan_application\": application});\n}\nexport const updateContractor = (id, contractorData) => dispatch => {\n  return bwmAxios.patch(`/contractors/${id}`, contractorData)\n    .then(res => res.data)\n    .then(updatedContractor => \n      dispatch({\n        type: 'UPDATE_CONTRACTOR_SUCCESS',\n        contractor: updatedContractor\n      })\n    )\n    .catch(error => Promise.reject(extractApiErrors(error.response || [])))\n}\n\nexport const deleteContractor = contractorId => dispatch => {\n  return dispatch(\n    deleteResource(\n      { url: `/contractors/${contractorId}`, \n        resource: 'manage-contractors'}))\n}","\nimport axiosService from 'services/AxiosService';\nconst { bwmAxios } = axiosService;\n\nexport const uploadImage = image => {\n  const formData = new FormData();\n  formData.append('image', image);\n\n  return bwmAxios.post('/image-upload', formData)\n    .then(res => res.data)\n}\n\nexport const extractApiErrors = (resError) => {\n  let errors = [{title: 'Error!', detail: 'Ooops, something went wrong!'}];\n\n  if (resError && resError.data && resError.data.errors) {\n    errors = resError.data.errors;\n  }\n\n  return errors;\n}\n\nexport const deleteResource = ({url, resource}) => dispatch => {\n  return bwmAxios.delete(url)\n    .then(res => res.data)\n    .then(({id}) => {\n      dispatch({\n        type: 'DELETE_RESOURCE',\n        id,\n        resource\n      })\n    })\n    .catch(error => {\n      dispatch({\n        type: 'REQUEST_ERROR',\n        errors: extractApiErrors(error.response || []),\n        resource\n      })\n    })\n}\n\nexport * from './auth';\nexport * from './contractors';\n\n\n// AUTH ACTIONS\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { loginUser, userAuthenticated } from 'actions';\nimport jwt from 'jsonwebtoken';\nimport moment from 'moment';\n\nconst { createContext, useContext } = React;\n\nconst AuthContext = createContext(null);\n\nconst AuthBaseProvider = ({children, dispatch}) => {\n\n  const checkAuthState = () => {\n    const decodedToken = decodeToken(getToken());\n    if (decodedToken && moment().isBefore(getExpiration(decodedToken))) {\n      dispatch(userAuthenticated(decodedToken))\n    }\n  }\n\n  const isAuthenticated = () => {\n    const decodedToken = decodeToken(getToken());\n    return decodedToken && isTokenValid(decodedToken)\n  }\n\n  const isTokenValid = (decodedToken) => {\n    return decodeToken && moment().isBefore(getExpiration(decodedToken));\n  }\n\n  const getExpiration = (decodedToken) => {\n    return moment.unix(decodedToken.exp);\n  }\n\n  const getToken = () => {\n    return localStorage.getItem('access_token');\n  }\n\n  const decodeToken = token => {\n    return jwt.decode(token);\n  }\n\n  const signOut = () => {\n    localStorage.removeItem('access_token');\n    dispatch({type: 'USER_SIGNED_OUT'});\n  }\n\n  const signIn = (loginData) => {\n    return loginUser(loginData)\n      .then(token => {\n        localStorage.setItem('access_token', token.access_token);\n        const decodedToken = decodeToken(token.access_token);\n        dispatch(userAuthenticated(decodedToken))\n        return token;\n      })\n  }\n\n  const authApi = {\n    signIn,\n    checkAuthState,\n    signOut,\n    isAuthenticated\n  }\n\n  return (\n    <AuthContext.Provider value={authApi}>\n      {children}\n    </AuthContext.Provider>\n  )\n}\n\nexport const AuthProvider = connect()(AuthBaseProvider);\n\nexport const useAuth = () => {\n  return useContext(AuthContext);\n}\n\nexport const withAuth = Component => props => (\n  <AuthContext.Consumer>\n    {authApi => <Component {...props} auth={authApi} /> }\n  </AuthContext.Consumer>\n)\n  \n\n","\n\nimport React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { useAuth } from 'providers/AuthProvider';\n\n\nconst AuthRoute = ({children, ...rest}) => {\n  const authService = useAuth();\n  const onlyChild = React.Children.only(children);\n  return (\n    <Route {...rest} render={(props) => authService.isAuthenticated() ?\n       React.cloneElement(onlyChild, {...rest, ...props}) : \n       <Redirect to={{pathname: '/login'}} />  } />\n  )\n}\n\nexport default AuthRoute;","\n\nimport React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { useAuth } from 'providers/AuthProvider';\n\n\nconst GuestRoute = ({children, ...rest}) => {\n  const authService = useAuth();\n  const onlyChild = React.Children.only(children);\n  return (\n    <Route {...rest} render={(props) => !authService.isAuthenticated() ?\n       React.cloneElement(onlyChild, {...rest, ...props}) : \n       <Redirect to={{pathname: '/'}} />  } />\n  )\n}\n\nexport default GuestRoute;","import React from 'react';\nimport { connect } from 'react-redux'\n\nclass ContractorHome extends React.Component {\n  \n  render() {\n\n    return (\n      <div className=\"card-list\">  \n        <h1 className=\"page-title\">PoC - Simple Online Loan Application.</h1>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = ({contractors}) => {\n  return {\n    contractors: contractors.items\n  }\n}\n\nexport default connect(mapStateToProps)(ContractorHome);","import React from 'react';\nimport { useForm, Controller } from 'react-hook-form';\nimport DatePicker from \"react-datepicker\";\nimport * as moment from \"moment\";\nimport 'react-datepicker/dist/react-datepicker.min.css';\n\nconst contractorOptions = ['Salary', 'Self-Employed', 'Rental Income'];\n\nconst ContractorForm = ({onSubmit, goToLocation}) => {\n\n  const { register, handleSubmit, control, errors} = useForm();\n  const goBack = () => {\n    goToLocation('location')\n  }\n  return (\n    <div className=\"col-md-12\">\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <div className=\"form-group row\">\n          <div className=\"col-md-6\">\n            <label htmlFor=\"firstName\">First Name</label>\n            <input \n              ref={register({ required: 'Please enter first name.', \n                              maxLength: { value:60, message:\"Please enter less then 60 character.\"}})}\n              name=\"first_name\"\n              type=\"text\"\n              className=\"form-control\"\n              id=\"firstName\"/>\n              {errors.first_name && <span className=\"error\">{errors.first_name.message}</span>}\n          </div>\n      \n          <div className=\"col-md-6\">\n          <label htmlFor=\"lastName\">Last Name</label>\n          <input \n            ref={register({ required: 'Please enter last name.', maxLength: { value:60, message:\"Please enter less then 60 character.\"} })}\n            name=\"last_name\"\n            type=\"text\"\n            className=\"form-control\"\n            id=\"lastName\"/>\n          {errors.last_name && <span className=\"error\">{errors.last_name.message}</span>}\n        </div>\n        </div>\n        <div className=\"form-group row\">\n          <div className=\"col-md-6\">\n            <label>Date of Birth</label>\n            <div className=\"form-control\">\n              <Controller\n                  as={<DatePicker showYearDropdown  maxDate={new Date(moment().subtract(18, 'years'))}/>}\n                  control={control}\n                  valueName=\"selected\" // DateSelect value's name is selected\n                  onChange={([selected]) => selected}\n                  name=\"date_of_birth\"\n                  placeholderText=\"Select date\"\n                />\n            </div>\n          </div>\n          <div className=\"col-md-6\">\n            <label htmlFor=\"ssn\">SSN:</label>\n            <input \n              ref={register({ required: 'Please enter SSN.', \n                      maxLength: { value:20, message:\"Please enter less then 20 character.\"} })}\n              name=\"ssn\"\n              type=\"text\"\n              className=\"form-control\"\n              id=\"ssn\"/>\n            {errors.ssn && <span className=\"error\">{errors.ssn.message}</span>}\n          </div>\n        </div>\n        <div className=\"form-group row\">\n          <div className=\"col-md-6\">\n            <label htmlFor=\"email\">Email</label>\n            <input\n              name=\"email\"\n              id=\"email\"\n              className=\"form-control\"\n              ref={register({\n                required: 'Required',\n                pattern: {\n                  value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i,\n                  message: \"Please enter valid email address.\"\n                }\n              })}\n            />\n            {errors.email && <span className=\"error\">{errors.email.message}</span>}\n\n          </div>\n          <div className=\"col-md-6\">\n            <label htmlFor=\"phone\">Phone</label>\n            <input \n              ref={register({ required: 'Please enter phone number.', \n              maxLength: { value:20, message:\"Please enter less then 20 character.\"}  })}\n              name=\"phone\"\n              type=\"number\"\n              className=\"form-control\"\n              id=\"phone\"/>\n            {errors.phone && <span className=\"error\">{errors.phone.message}</span>}\n          </div>\n        </div>\n        <div className=\"form-group row\">\n          <div className=\"col-md-6\">\n            <label htmlFor=\"income\">Income</label>\n            <input \n              ref={register({ required: 'Please enter income.', \n              maxLength: { value:20, message:\"Please enter less then 20 character.\"} \n                              })}\n              name=\"income\"\n              type=\"number\"\n              className=\"form-control\"\n              id=\"income\"/>\n            {errors.income && <span className=\"error\">{errors.income.message}</span>}\n          </div>\n          <div className=\"col-md-6\">\n            <label htmlFor=\"catincome_typeegory\">Income Type</label>\n            <select \n              ref={register({ required: true})}\n              name=\"income_type\"\n              className=\"form-control\"\n              id=\"income_type\">\n              {\n                contractorOptions.map(option => \n                  <option key={option}>{option}</option> \n                )\n              }\n            </select>\n\n          </div>\n        </div>\n        \n        \n        <div className=\"form-group row\">\n          <div className=\"col-md-6\">\n            <label htmlFor=\"requested_loan_amount\">Requested Loan Amount</label>\n            <input \n              ref={register({ required: 'Please enter requested loan amount.' , maxLength: { value:20, message:\"Please enter less then 20 character.\"}  })}\n              name=\"requested_loan_amount\"\n              type=\"number\"\n              className=\"form-control\"\n              id=\"requested_loan_amount\"/>\n            {errors.requested_loan_amount && <span className=\"error\">{errors.requested_loan_amount.message }</span>}\n          </div>\n        </div>\n        <button \n          type=\"submit\"\n          className=\"btn btn-bwm-main\">Create\n        </button>\n        <button \n          onClick={goBack}\n          className=\"btn btn-bwm-main ml-2\">Go Back\n        </button>\n      </form>\n  \n    </div>\n    )\n}\n\nexport default ContractorForm;","export default [\n  {\n    label: '212 encounter bay',\n    population: 4780127,\n    capital: 'Montgomery',\n    region: 'South',\n  },\n  { label: '978 stannage avenu', population: 710249, capital: 'Juneau', region: 'West' },\n  { label: '1920 Hinckley, Fantasy Island', population: 6392307, capital: 'Phoenix', region: 'West' },\n  {\n    label: '123 Test, Hunting Park',\n    population: 2915958,\n    capital: 'Little Rock',\n    region: 'South',\n  },\n  {\n    label: '433 Camden, Beverly Hills',\n    population: 37254503,\n    capital: 'Sacramento',\n    region: 'West',\n  },\n  { label: 'Colorado', population: 5029324, capital: 'Denver', region: 'West' },\n  {\n    label: 'Connecticut',\n    population: 3574118,\n    capital: 'Hartford',\n    region: 'Northeast',\n  },\n  { label: 'Delaware', population: 897936, capital: 'Dover', region: 'South' },\n  {\n    label: 'Florida',\n    population: 18804623,\n    capital: 'Tallahassee',\n    region: 'South',\n  },\n  {\n    label: 'Georgia',\n    population: 9688681,\n    capital: 'Atlanta',\n    region: 'South',\n  },\n  { label: 'Hawaii', population: 1360301, capital: 'Honolulu', region: 'West' },\n  { label: 'Idaho', population: 1567652, capital: 'Boise', region: 'West' },\n  {\n    label: 'Illinois',\n    population: 12831549,\n    capital: 'Springfield',\n    region: 'Midwest',\n  },\n  {\n    label: 'Indiana',\n    population: 6484229,\n    capital: 'Indianapolis',\n    region: 'Midwest',\n  },\n  {\n    label: 'Iowa',\n    population: 3046869,\n    capital: 'Des Moines',\n    region: 'Midwest',\n  },\n  {\n    label: 'Kansas',\n    population: 2853132,\n    capital: 'Topeka',\n    region: 'Midwest',\n  },\n  {\n    label: 'Kentucky',\n    population: 4339349,\n    capital: 'Frankfort',\n    region: 'South',\n  },\n  {\n    label: 'Louisiana',\n    population: 4533479,\n    capital: 'Baton Rouge',\n    region: 'South',\n  },\n  {\n    label: 'Maine',\n    population: 1328361,\n    capital: 'Augusta',\n    region: 'Northeast',\n  },\n  {\n    label: 'Maryland',\n    population: 5773785,\n    capital: 'Annapolis',\n    region: 'South',\n  },\n  {\n    label: 'Massachusetts',\n    population: 6547817,\n    capital: 'Boston',\n    region: 'Northeast',\n  },\n  {\n    label: 'Michigan',\n    population: 9884129,\n    capital: 'Lansing',\n    region: 'Midwest',\n  },\n  {\n    label: 'Minnesota',\n    population: 5303925,\n    capital: 'Saint Paul',\n    region: 'Midwest',\n  },\n  {\n    label: 'Mississippi',\n    population: 2968103,\n    capital: 'Jackson',\n    region: 'South',\n  },\n  {\n    label: 'Missouri',\n    population: 5988927,\n    capital: 'Jefferson City',\n    region: 'Midwest',\n  },\n  { label: 'Montana', population: 989417, capital: 'Alberta', region: 'West' },\n  {\n    label: 'Nebraska',\n    population: 1826341,\n    capital: 'Lincoln',\n    region: 'Midwest',\n  },\n  {\n    label: 'Nevada',\n    population: 2700691,\n    capital: 'Carson City',\n    region: 'West',\n  },\n  {\n    label: 'New Hampshire',\n    population: 1316466,\n    capital: 'Concord',\n    region: 'Northeast',\n  },\n  {\n    label: 'New Jersey',\n    population: 8791936,\n    capital: 'Trenton',\n    region: 'Northeast',\n  },\n  {\n    label: 'New Mexico',\n    population: 2059192,\n    capital: 'Santa Fe',\n    region: 'West',\n  },\n  {\n    label: 'New York',\n    population: 19378087,\n    capital: 'Albany',\n    region: 'Northeast',\n  },\n  {\n    label: 'North Carolina',\n    population: 9535692,\n    capital: 'Raleigh',\n    region: 'South',\n  },\n  {\n    label: 'North Dakota',\n    population: 672591,\n    capital: 'Bismarck',\n    region: 'Midwest',\n  },\n  {\n    label: 'Ohio',\n    population: 11536725,\n    capital: 'Columbus',\n    region: 'Midwest',\n  },\n  {\n    label: 'Oklahoma',\n    population: 3751616,\n    capital: 'Oklahoma City',\n    region: 'South',\n  },\n  { label: 'Oregon', population: 3831073, capital: 'Salem', region: 'West' },\n  {\n    label: 'Pennsylvania',\n    population: 12702887,\n    capital: 'Harrisburg',\n    region: 'Northeast',\n  },\n  {\n    label: 'Rhode Island',\n    population: 1052931,\n    capital: 'Providence',\n    region: 'Northeast',\n  },\n  {\n    label: 'South Carolina',\n    population: 4625401,\n    capital: 'Columbia',\n    region: 'South',\n  },\n  {\n    label: 'South Dakota',\n    population: 814191,\n    capital: 'Pierre',\n    region: 'Midwest',\n  },\n  {\n    label: 'Tennessee',\n    population: 6346275,\n    capital: 'Nashville',\n    region: 'South',\n  },\n  { label: 'Texas', population: 25146105, capital: 'Austin', region: 'South' },\n  {\n    label: 'Utah',\n    population: 2763888,\n    capital: 'Salt Lake City',\n    region: 'West',\n  },\n  {\n    label: 'Vermont',\n    population: 625745,\n    capital: 'Montpelier',\n    region: 'Northeast',\n  },\n  {\n    label: 'Virginia',\n    population: 8001045,\n    capital: 'Richmond',\n    region: 'South',\n  },\n  {\n    label: 'Washington',\n    population: 6724543,\n    capital: 'Olympia',\n    region: 'West',\n  },\n  {\n    label: 'West Virginia',\n    population: 1853011,\n    capital: 'Charleston',\n    region: 'South',\n  },\n  {\n    label: 'Wisconsin',\n    population: 5687289,\n    capital: 'Madison',\n    region: 'West',\n  },\n  { label: 'Wyoming', population: 563767, capital: 'Cheyenne', region: 'West' },\n];\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport {AsyncTypeahead, Typeahead} from 'react-bootstrap-typeahead';\nimport 'react-bootstrap-typeahead/css/Typeahead.css'; \nimport options from '../../helpers/locations_mock';\n\n\nconst ContractorSearchInput = (props) => {\n  const [location, setLocation] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  //const [options, setOptions] = useState([]);\n  //const history = useHistory();\n  const [selected, setSelected] = useState([]);\n  const handleKeyPress = event => {\n    if (event.key === 'Enter') {\n      handleSearch();\n    }\n  }\n\n  const handleSearch = () => {\n    props.checkLocationForApp(location)\n    // location ? \n    //   history.push(`/contractors/${location}/homes`) :\n    //   history.push('/')\n  }\n\n  return (\n    <div className=\"form-inline my-2 my-lg-0\">\n        <div className=\"col-md-8\">\n          {/* <AsyncTypeahead\n            isLoading={isLoading}\n            labelKey={option => `${option.login}`}\n            onSearch={(query) => {\n              setIsLoading(true);\n              fetch(`https://api.github.com/search/users?q=${query}`)\n                .then(resp => resp.json())\n                .then(json => {\n                    setIsLoading(false);\n                    setOptions(json.items);\n                  });\n            }}\n            onChange={(selected)=> {\n              setLocation(selected);\n            }}\n            options={options}\n          /> */}\n          <Typeahead\n            selected={selected}\n            id=\"basic-typeahead-example\"\n            labelKey={option => `${option.label}`}\n            onChange={(selected)=> {\n              if(selected.length>0){setLocation(selected[0].label);}\n              setSelected(selected);\n            }}\n            options={options}\n            placeholder=\"Choose a location...\"\n          />\n        </div>\n      \n      <button\n        onClick={handleSearch} \n        className=\"btn btn-bwm-main btn-outline-success ml-2 my-sm-0\" \n        type=\"button\">Search</button>\n    </div>\n  )\n}\n\nexport default ContractorSearchInput;","\n\nimport React from 'react';\n\nconst ApiErrors = ({errors}) => {\n\n  if (errors && errors.length > 0) {\n    return (\n      <div className=\"alert alert-danger\">\n        { errors.map(e => <p key={e.title}>{e.detail}</p>)}\n      </div>\n    )\n  }\n\n  return null;\n}\n\nexport default ApiErrors;","import React from 'react';\nconst SuccessMessage = ({createNewApp}) => {\n  \n  return (\n    <>\n      <div className=\"col-md-12\">\n        <h2>Application successfully created.</h2>\n        <button onClick={()=>createNewApp('location')} className=\"btn btn-bwm-main ml-2\"> Create Another Application</button>\n      </div>\n    </>\n  )\n}\n\nexport default SuccessMessage;","import React from 'react';\nimport { css } from \"@emotion/core\";\nimport ContractorForm from 'components/forms/ContractorForm';\nimport { createApplication, checkLocationForApp } from 'actions';\nimport { Redirect } from 'react-router-dom';\nimport ContractorSearchInput from 'components/contractor/ContractorSearchInput';\nimport FadeLoader from \"react-spinners/FadeLoader\";\nimport ApiErrors from 'components/forms/ApiErrors';\nimport SuccessMessage from 'components/contractor/SuccessMessage';\nimport * as moment from 'moment';\n\n\nconst override = css`\n  display: block;\n  margin-left:50%;\n  border-color: red;\n`;\n\nclass NewApplication extends React.Component {\n\n  state = {\n    appLocation:'location',\n    shouldRedirect: false,\n    showSpinner:false,\n    errors:[],\n    location:{},\n  }\n\n  submitApplication = (appData) => {\n    const applicationData =  {...appData,\n                             \"address_id\": this.state.location.id,\n                              \"date_of_birth\":moment(appData.date_of_birth).format('ddd, DD MMM YYYY')};\n    createApplication(applicationData)\n      .then(_ => {this.setState({errors:[],\n                                    appLocation : 'success', \n                                    showSpinner:false});})\n      .catch(error => {\n        if(error.response){\n          this.setState({errors:[{\"title\":`${error.response.status} error`, \n                                  \"detail\" : error.response.data.message}], \n                                  showSpinner:false})\n        }\n      })\n  }\n  \n  goToLocation= (appState)=>{\n    this.setState({appLocation:appState});\n  }\n\n  checkLocationForApp = (location)=>{\n    this.setState({showSpinner:true});\n    checkLocationForApp(location)\n      .then(data => {this.setState({errors:[],\n                                    location: data.data, \n                                    appLocation : 'form', \n                                    showSpinner:false});})\n      .catch(error => {\n              if(error.response){\n                this.setState({errors:[{\"title\":`${error.response.status} error`, \n                                        \"detail\" : error.response.data.message}], \n                                        showSpinner:false})\n              }\n            });\n\n  }\n  render() {\n    const { shouldRedirect, appLocation, errors } = this.state;\n\n    if (shouldRedirect) {\n      return <Redirect to={{pathname: '/'}} />\n    }\n\n    return (\n      <section id=\"newContractor\">\n        <div className=\"bwm-form\">\n          <div className=\"row\">\n            <div className=\"offset-md-2 col-md-8\">\n              <div className=\"col-md-12\">\n                <h1 className=\"page-title\">Create loan application</h1>\n              </div>\n              <div className=\"col-md-12\">\n                <ApiErrors errors={errors}/>\n              </div>\n              \n              {(appLocation==='location') && <ContractorSearchInput checkLocationForApp={this.checkLocationForApp}/> }\n              {(appLocation==='form') && <ContractorForm onSubmit={this.submitApplication} goToLocation={this.goToLocation}/> }\n              {(appLocation==='success') && <SuccessMessage createNewApp={this.goToLocation} />}\n              <FadeLoader\n                css={override}\n                size={40}\n                color={\"#212529\"}\n                loading={this.state.showSpinner}\n              />\n              \n              {/* <div>\n                <p>\n                  Some Errors\n                </p>\n              </div> */}\n            </div>\n          </div>\n        </div>\n      </section> \n    )\n  }\n}\n\nexport default NewApplication;","\n\nimport React from 'react';\n\nconst FormError = ({children, errors, name}) => {\n  const error = errors[name] || null;\n\n  if (!error) { return null; }\n\n  return <div className=\"alert alert-danger\" children={children(error.message)}></div>\n}\n\nexport default FormError;","\nimport React from 'react';\nimport { useForm, ErrorMessage } from 'react-hook-form';\nimport FormError from './FormError';\n\nconst Error = ({children}) => \n  <div className=\"alert alert-danger\">\n    {children}\n  </div>\n\n// eslint-disable-next-line\nconst EMAIL_PATTERN = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\nconst LoginForm = ({onSubmit}) => {\n\n  const { register, handleSubmit, errors } = useForm();\n  return (\n    <form onSubmit={handleSubmit(onSubmit)}>\n      <div className=\"form-group\">\n        <label htmlFor=\"email\">Email</label>\n        <input\n          ref={register({\n            required: 'Email is required', \n            pattern: {value: EMAIL_PATTERN, message: 'Invalid email format!'}})}\n          name=\"email\"\n          type=\"email\"\n          className=\"form-control\"\n          id=\"email\" />\n        <FormError errors={errors} name=\"email\">\n          {(message) => <p>{message}</p>}\n        </FormError>\n      </div>\n      <div className=\"form-group\">\n        <label htmlFor=\"password\">Password</label>\n        <input \n          ref={\n            register({\n              required: \"Password is required!\", \n              minLength: {value: 8, message: 'Minimum length of password is 8 characters!'}})}\n          name=\"password\"\n          type=\"password\"\n          className=\"form-control\"\n          id=\"password\" />\n        <ErrorMessage as={<Error />} errors={errors} name=\"password\">\n          {({message}) => <p>{message}</p>}\n        </ErrorMessage>\n      </div>\n      <button \n        type=\"submit\" \n        className=\"btn btn-bwm-main\">Submit</button>\n    </form>\n  )\n}\n\nexport default LoginForm;","import React from 'react';\nimport LoginForm from 'components/forms/LoginForm';\nimport { Redirect } from 'react-router-dom';\nimport ApiErrors from 'components/forms/ApiErrors';\nimport { withAuth } from 'providers/AuthProvider';\n\nclass Login extends React.Component {\n\n  state = {\n    shouldRedirect: false,\n    errors: []\n  }\n\n  signIn = (loginData) => {\n    this.props.auth.signIn(loginData)\n      .then(_ => this.setState({shouldRedirect: true}))\n      .catch(errors => this.setState({errors}))\n  }\n\n  render() {\n    const { errors, shouldRedirect } = this.state;\n    const { message } = this.props.location.state || '';\n\n    if (shouldRedirect) {\n      return <Redirect to={{pathname: '/'}} />\n    }\n\n    return (\n      <div className=\"bwm-form\">\n        <div className=\"row\">\n          <div className=\"offset-md-3 col-md-6\">\n            <h1 className=\"page-title\">Login</h1>\n            { message &&\n              <div className=\"alert alert-success\">\n                {message}\n              </div>\n            }\n            <LoginForm onSubmit={this.signIn} />\n            <ApiErrors errors={errors}/>\n          </div>\n          \n        </div>\n      </div> \n    )\n  }\n}\n\nexport default withAuth(Login);","\nimport moment from 'moment';\n\nexport const capitalize = value => {\n  if (!value || typeof value !== 'string') { return ''; }\n\n  // San Francisco\n  return value\n    .split(' ') // ['san', 'francisco']\n    .map(word => word[0].toUpperCase() + word.slice(1)) // ['San', 'Francisco']\n    .join(' ')  // San Francisco\n}\n\nexport const formatDate = (date, dateFormat = 'YYYY/MM/DD') => {\n  if (!date || typeof date !== 'string') { return ''; }\n  \n  return moment(date).format(dateFormat);\n}","\nimport React from 'react';\nimport { fetchApplications} from 'actions';\nimport { connect } from 'react-redux';\nimport ApiErrors from 'components/forms/ApiErrors';\nimport DataTable from 'react-data-table-component';\nimport {capitalize} from './../helpers/functions'; \nconst FilterComponent = ({ filterText, onFilter, onClear }) => (\n  <>\n    <div className=\"col-md-5 input-group mb-3\">\n      <input id=\"search\" className=\"form-control\" type=\"text\" placeholder=\"Search\" value={filterText} onChange={onFilter} /> \n      <div className=\"input-group-append\">\n        <button className=\"btn btn-outline-secondary\" type=\"button\" onClick={onClear}>X</button>\n      </div>  \n    </div><br/>\n  </>\n);\n\nclass ManageApplications extends React.Component {\n  state={\n    filterText: '',\n    resetPaginationToggle:false\n  \n  }\n  componentDidMount() {\n    this.props.dispatch(fetchApplications());\n  }\n  handleClear = () => {\n    if (this.state.filterText) {\n      this.setState({\n        filterText:\"\",\n        resetPaginationToggle: !this.state.resetPaginationToggle})\n    }\n  };\n  subHeaderComponentMemo = () => {\n    return ;\n  };\n  renderApplicationTable =(applications) =>{\n    let format = new Intl.NumberFormat('en-US', { \n        style: 'currency', \n        currency: 'USD', \n        minimumFractionDigits: 2, \n    });\n    \n    let statusFormat =  (row)=>{\n      switch (row.status) {\n        case 'Approved':\n          return  <h5><span className=\"badge badge-success\">{ row.status}</span></h5>\n        break;\n        case 'Pending':\n            return <h5><span className=\"badge badge-primary\">{ row.status}</span></h5>\n        break;\n        case 'Rejected':\n            return <h5><span className=\"badge badge-danger\">{ row.status}</span></h5>\n        break;\n        default:\n            return <h5><span className=\"badge badge-primary\">{row.status}</span></h5>\n        break;\n      }\n    } \n    \n    let columns = [\n      {name : 'Application Id', selector: \"id\", sortable: true,maxWidth: \"140px\"},\n      {name : 'Name', selector: \"name\", sortable: true,},\n      {name : 'Income', selector: \"income\", sortable: true,},\n      {name : 'Income type', selector: \"income_type\", sortable: true,},\n      {name : 'Requested loan amount', selector: \"requested_loan_amount\", sortable: true,},\n      {name : 'Status', selector: \"status\", sortable: true, cell:statusFormat},\n    ]\n    let appTableData=[] ;\n    applications.map((item)=>{\n      appTableData.push({\n        id:item.id,\n        name: `${item.first_name} ${item.last_name}`,\n        income:`${format.format(item.income)}`,\n        income_type: `${item.income_type}`,\n        requested_loan_amount: `${format.format(item.requested_loan_amount)}`,\n        status: `${capitalize(item.status)}`\n      })\n    })\n    const filteredItems = appTableData.filter(item => {\n            return (item.name && item.name.includes(this.state.filterText)) ||\n              (item.status && item.status.includes(this.state.filterText)) ||\n              (item.income_type && item.income_type.includes(this.state.filterText)) ||\n              (item.id && (item.id == this.state.filterText));\n    });\n    return <div className=\"col-md-12\"><DataTable\n        title=\"Applications List\"\n        columns={columns}\n        data={filteredItems}\n        defaultSortField=\"id\"\n        pagination={true}\n        actions={<FilterComponent onFilter={e => this.setState({'filterText':e.target.value})} onClear={()=>this.handleClear} filterText={this.state.filterText} />}\n    /></div>\n  }\n  render() {\n    const { applications, errors, isFetching } = this.props;\n    let columns = [\n      {display : 'Name', name: \"first_name\"}\n    ]\n    return (\n      <div className=\"card-list\">\n        <div className=\"row\">\n          <div className=\"col-md-12\">\n            <h1 className=\"page-title\">Loan applications list</h1>\n          </div>\n        </div> \n        <div className=\"row\">\n          <div className=\"col-md-12\">\n            <ApiErrors errors={errors} />\n          </div>\n        </div>   \n        <div className=\"row\">\n          {this.renderApplicationTable(applications)}\n        </div>\n        { !isFetching && applications.length === 0 &&\n          <p className=\"alert alert-warning\">\n            You dont have any applications currently created :(\n          </p>\n        }\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = ({manage}) => {\n  return {\n    applications: manage.contractors.items,\n    isFetching: manage.contractors.isFetching,\n    errors: manage.contractors.errors\n  }\n}\n\nexport default connect(mapStateToProps)(ManageApplications);","import React from 'react';\nimport {\n  Switch,\n  Route\n} from \"react-router-dom\";\nimport AuthRoute from 'components/auth/AuthRoute';\nimport GuestRoute from 'components/auth/GuestRoute';\nimport ContractorHome from './pages/ContractorHome';\nimport NewApplication from './pages/NewApplication';\nimport Login from './pages/Login';\nimport ManageApplications from 'pages/ManageApplications';\n\nconst Routes = () => {\n  return (\n    <div className=\"container bwm-container\">\n      <Switch>\n        <Route exact path=\"/\">\n          <ContractorHome />\n        </Route>\n        <AuthRoute path=\"/applications/manage\">\n          <ManageApplications />\n        </AuthRoute>\n        <AuthRoute path=\"/applications/new\">\n          <NewApplication />\n        </AuthRoute>\n        <GuestRoute path=\"/login\">\n          <Login />\n        </GuestRoute>\n        \n      </Switch>\n    </div>\n  )\n}\n\nexport default Routes;","\nimport { combineReducers } from \"redux\";\n\nexport const itemsReducer = resource => {\n  return (state = [], action) => {\n    if (resource !== action.resource) {\n      return state;\n    }\n\n    switch(action.type) {\n      case 'REQUEST_DATA':\n        return [];\n      case 'REQUEST_DATA_COMPLETE':\n        return action.data;\n      case 'DELETE_RESOURCE':\n        const index = state.findIndex(i => i._id === action.id);\n        return state.filter((item, itemIndex) => index !== itemIndex);\n      default:\n        return state\n    }\n  }\n}\n\nexport const errorsReducer = resource => {\n  return (state = [], action) => {\n    if (resource !== action.resource) {\n      return state;\n    }\n\n    switch(action.type) {\n      case 'DELETE_RESOURCE':\n      case 'REQUEST_DATA':\n        return [];\n      case 'REQUEST_ERROR':\n        return action.errors;\n      default:\n        return state\n    }\n  }\n}\n\nexport const isFetchingReducer = (resource) => {\n  return (state = false, action) => {\n    if (resource !== action.resource) {\n      return state;\n    }\n    switch(action.type) {\n      case 'REQUEST_DATA':\n        return true;\n      case 'REQUEST_DATA_COMPLETE':\n        return false;\n      default:\n        return state\n    }\n  }\n}\n\nexport const createList = resource => {\n  const items = itemsReducer(resource);\n  const isFetching = isFetchingReducer(resource);\n  const errors = errorsReducer(resource);\n\n  return combineReducers({\n    items,\n    isFetching,\n    errors\n  })\n}","\nimport { combineReducers } from 'redux';\nimport { isFetchingReducer } from './common';\n\nconst initContractorsReducer = () => {\n\n  const items = (state = [], action) => {\n    switch(action.type) {\n      case 'FETCH_CONTRACTORS':\n        return action.contractors;\n      case 'CREATE_CONTRACTOR':\n        return [...state, action.contractor];\n      default:\n        return state;\n    }\n  }\n\n  const isFetching = isFetchingReducer('contractors');\n\n  return combineReducers({\n    items,\n    isFetching\n  })\n}\n\nconst contractors = initContractorsReducer();\nexport default contractors;","import { combineReducers } from 'redux';\nimport { isFetchingReducer } from './common';\n\nconst initContractorReducer = () => {\n  const item  = (state = {}, action) => {\n    switch(action.type) {\n      case 'UNMOUNT_CONTRACTOR':\n        return {};\n      case 'UPDATE_CONTRACTOR_SUCCESS':\n      case 'FETCH_CONTRACTOR_BY_ID':\n        return action.contractor;\n      default:\n        return state;\n    }\n  }\n\n  const isFetching = isFetchingReducer('contractor');\n\n  return combineReducers({\n    item,\n    isFetching\n  });\n}\n\nconst contractor = initContractorReducer();\nexport default contractor;","\nimport { combineReducers } from 'redux';\n\nconst initAuthReducer = () => {\n  const isAuth  = (state = false, action) => {\n    switch(action.type) {\n      case 'USER_AUTHENTICATED':\n        return true;\n      case 'USER_SIGNED_OUT':\n        return false;\n      default:\n        return state;\n    }\n  }\n\n  const username = (state = '', action) => {\n    switch(action.type) {\n      case 'USER_AUTHENTICATED':\n        return action.username;\n      case 'USER_SIGNED_OUT':\n        return '';\n      default:\n        return state;\n    }\n  }\n\n  return combineReducers({\n    isAuth,\n    username\n  });\n}\n\nconst auth = initAuthReducer();\nexport default auth;","import { combineReducers } from \"redux\"\nimport { createList } from './common';\n\n\nconst initManageReducer = () => {\n  return combineReducers({\n    contractors: createList('manage-contractors'),\n    bookings: createList('manage-bookings'),\n    receivedBookings: createList('received-bookings')\n  })\n}\n\nconst manage = initManageReducer();\nexport default manage;","\nimport React, { useEffect } from 'react';\nimport Header from './components/shared/Header';\nimport Routes from './Routes';\n\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { Provider } from 'react-redux'\nimport { AuthProvider, useAuth } from 'providers/AuthProvider';\n//import { MapProvider } from 'providers/MapProvider';\nimport { initStore } from './store';\n\nimport { ToastContainer } from 'react-toastify';\n\nconst store = initStore();\n\nconst Providers = ({children}) => \n  <Provider store={store}>\n    <AuthProvider>\n      \n        {children}\n      \n    </AuthProvider>\n  </Provider>\n\nconst BwmApp = () => {\n  const authService = useAuth();\n\n  useEffect(() => {\n    authService.checkAuthState();\n  }, [authService])\n\n  return (\n    <Router>\n      <Header logout={authService.signOut} />\n      <Routes />\n    </Router>\n  )\n}\n\nconst App = () => {\n  return (\n    <Providers>\n      <ToastContainer />\n      <BwmApp />\n    </Providers>\n  )\n}\n\nexport default App;","\nimport { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport contractors from './reducers/contractors';\nimport contractor from './reducers/contractor';\nimport auth from './reducers/auth';\nimport manage from './reducers/manage';\n\nexport function initStore() {\n  const reducers = combineReducers({\n    contractors,\n    contractor,\n    auth,\n    manage\n  });\n  \n  const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n  const store = createStore(reducers, composeEnhancers(applyMiddleware(thunk)));\n\n  return store;\n}","\nimport ReactDOM from 'react-dom';\nimport React from 'react';\nimport App from './App.js'\n\nimport 'bootstrap/dist/js/bootstrap.min.js';\nimport './index.scss';\nimport 'bootstrap-daterangepicker/daterangepicker.css';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { fas } from '@fortawesome/free-solid-svg-icons';\nlibrary.add(fas);\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<App/>, rootElement);"],"sourceRoot":""}